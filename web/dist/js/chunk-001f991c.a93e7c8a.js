(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-001f991c"],{3315:function(t,e,a){"use strict";var s=a("69da"),i=a.n(s);i.a},"69da":function(t,e,a){},f821:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",[a("v-text-field",{ref:"search",attrs:{loading:t.isLoading,"search-input":t.search,label:"尋找正在揪團...","append-icon":"search","clear-icon":"mdi-close-circle",clearable:"",solo:""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e},"click:clear":this.fetchGroupList},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._l(t.items,function(e,s){return a("v-layout",{key:s,attrs:{"py-3":"","px-2":"",column:""}},[a("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var i=e.hover;return a("v-card",{class:"elevation-"+(i?8:2),staticStyle:{cursor:"pointer","border-radius":"15px"},on:{click:function(e){return t.goToGroupPage(t.items[s]._id)}}},[a("v-expand-transition",{attrs:{"leave-absolute":"true"}},[i?a("div",{staticClass:"d-flex transition-fast-in-fast-out primary darken-2 v-groupCard--reveal white--text"},[t._v("\n            👉準備遊玩 :\n            "),t._l(t.items[s].game,function(e){return a("v-flex",{key:e,attrs:{xs2:"",sm2:"",md1:"",shrink:""}},[a("v-chip",{attrs:{color:"primary","text-color":"white"}},[t._v(t._s(e))])],1)})],2):t._e()]),a("v-card-actions",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"pa-2":""}},[a("v-flex",{staticClass:"grey--text",staticStyle:{"font-size":"16px"}},[t._v(t._s(t.items[s].city)+" "+t._s(t.items[s].dist)+" "+t._s(t.items[s].address))]),a("v-flex",[a("v-flex",{staticStyle:{"font-size":"1.8rem"},attrs:{md12:""}},[a("span",[t._v(t._s(t.items[s].name))]),a("v-flex",{staticStyle:{float:"right"},attrs:{xs12:""}},[t.items[s].now<t.items[s].max?a("v-chip",{attrs:{label:"",outline:"",selected:"",color:"primary"}},[a("span",{staticStyle:{"font-size":"16px"}},[t._v("目前人數: "+t._s(t.items[s].now)+" / "+t._s(t.items[s].max)+" 人")]),a("v-icon",{attrs:{right:""}},[t._v("mdi-account")])],1):a("v-chip",{attrs:{label:"",outline:"",selected:"",color:"red"}},[a("span",{staticStyle:{"font-size":"16px"}},[t._v("目前人數: "+t._s(t.items[s].now)+" / "+t._s(t.items[s].max)+" 人")]),a("v-icon",{attrs:{right:""}},[t._v("mdi-account")])],1)],1)],1)],1),a("v-flex",[""!=t.items[s].storeName?a("v-chip",{attrs:{label:"",outline:"",color:"grey darken-3"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-map-marker")]),a("span",{staticStyle:{"font-size":"16px"}},[t._v("桌遊店 : "+t._s(t.items[s].storeName)+" ")])],1):t._e(),""==t.items[s].storeName?a("v-chip",{attrs:{label:"",outline:"",color:"grey darken-3"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-map-marker")]),a("span",{staticStyle:{"font-size":"16px"}},[t._v("桌遊店 : 自訂 ")])],1):t._e(),t.items[s].apply?a("v-chip",{staticStyle:{color:"white"},attrs:{label:"",outline:"",color:"orange darken-2"}},[a("span",{staticStyle:{"font-size":"16px"}},[t._v("🧐   申請加入")])]):t._e(),t.items[s].apply?t._e():a("v-chip",{staticStyle:{color:"white"},attrs:{label:"",outline:"",color:"green darken-2"}},[a("span",{staticStyle:{"font-size":"16px"}},[t._v("🤗   自由加入")])]),t.items[s].memberId==t.memberId?a("v-chip",{staticStyle:{color:"white"},attrs:{label:"",color:"red"}},[a("span",{staticStyle:{"font-size":"16px"}},[t._v("💪   我是主揪")])]):t._e()],1),a("v-flex",{attrs:{xs12:""}},[a("v-chip",{attrs:{label:"",outline:"",color:"grey darken-3"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-calendar")]),a("span",{staticStyle:{"font-size":"16px"}},[t._v("日期: "+t._s(t.items[s].date))])],1),a("v-chip",{attrs:{label:"",outline:"",color:"grey darken-3"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-clock")]),a("span",{staticStyle:{"font-size":"16px"}},[t._v("開始時間 : "+t._s(t.items[s].start))])],1),a("v-chip",{attrs:{label:"",outline:"",color:"grey darken-3"}},[a("span",{staticStyle:{"font-size":"16px"}},[t._v("結束時間 : "+t._s(t.items[s].end))])]),t.items[s].novice?a("v-chip",{staticStyle:{color:"white"},attrs:{label:"",color:"blue"}},[a("span",{staticStyle:{"font-size":"16px"}},[t._v("👍   新手友善")])]):t._e()],1)],1)],1)],1)],1)}}],null,!0)})],1)}),[a("v-flex",[a("div",{staticClass:"text-xs-center"},[t.isSearching||0==t.items.length?t._e():a("v-pagination",{attrs:{length:t.pages},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1),a("div",{staticClass:"text-xs-center"},[t.isSearching&&0!=t.items.length?a("v-pagination",{attrs:{length:t.searchPages},model:{value:t.searchPage,callback:function(e){t.searchPage=e},expression:"searchPage"}}):t._e()],1),a("div",[0==t.items.length?a("v-alert",{attrs:{value:!0,color:"primary",icon:"priority_high",outline:""}},[t._v("沒有任何揪團")]):t._e()],1)]),a("v-flex")]],2)},i=[],r=(a("386d"),a("7c15")),o={props:{},data:function(){return{search:null,isLoading:!1,isSearching:!1,errMsg:"",groupId:"",page:1,pages:1,searchPage:1,searchPages:1,items:[],memberId:""}},inject:["reload"],created:function(){this.$data.memberId=this.$store.state.memberId,this.$bus.$emit("isLoading:push",!0),this.fetchGroupList()},methods:{goToGroupPage:function(t){this.$router.push("/group/".concat(t))},fetchGroupList:function(){var t=this;this.isLoading=!0,this.$data.isSearching=!1,Object(r["g"])({page:this.$data.page,isPlaying:!1}).then(function(e){if(400===e.data.status)return t.$data.errMsg=e.data.msg,console.log(t.$data.errMsg),t.$bus.$emit("message:push",t.$data.errMsg,"error"),void t.$bus.$emit("isLoading:push",!1);console.log("fetch result",e.data),t.$data.items=e.data.group.docs,t.$data.pages=e.data.group.pages,t.$data.page=e.data.group.page,t.$bus.$emit("isLoading:push",!1),t.$data.isSearching=!1}).catch(function(e){console.log(e),t.$bus.$emit("message:push",e,"error"),t.$bus.$emit("isLoading:push",!1)}).finally(function(){return t.isLoading=!1})},searchGroupList:function(){var t=this;null!=this.search&&(""!=this.search?(this.isSearching=!0,this.isLoading=!0,console.log(),Object(r["m"])({str:this.search,page:this.searchPage,isPlaying:!1}).then(function(e){if(400===e.data.status)return t.$data.errMsg=e.data.msg,console.log(t.$data.errMsg),t.$bus.$emit("message:push",t.$data.errMsg,"error"),void t.$bus.$emit("isLoading:push",!1);console.log(e.data),t.$data.items=e.data.group.docs,t.$data.searchPages=e.data.group.pages,t.$data.searchPage=e.data.group.page}).catch(function(e){console.log(e),t.$bus.$emit("message:push",e,"error")}).finally(function(){return t.isLoading=!1})):this.fetchGroupList())}},watch:{search:function(t){this.searchGroupList()},page:function(t){this.$vuetify.goTo(this.$refs.search),this.fetchGroupList()},searchPage:function(t){this.$vuetify.goTo(this.$refs.search),this.searchGroupList()}}},n=o,c=(a("3315"),a("2877")),l=a("6544"),u=a.n(l),p=a("0798"),h=a("b0af"),d=a("99d9"),g=a("cc20"),m=a("0789"),v=a("0e8f"),f=a("ce87"),_=a("132d"),x=a("a722"),y=a("891e"),$=a("2677"),b=Object(c["a"])(n,s,i,!1,null,null,null);e["default"]=b.exports;u()(b,{VAlert:p["a"],VCard:h["a"],VCardActions:d["a"],VChip:g["a"],VExpandTransition:m["a"],VFlex:v["a"],VHover:f["a"],VIcon:_["a"],VLayout:x["a"],VPagination:y["a"],VTextField:$["a"]})}}]);
//# sourceMappingURL=chunk-001f991c.a93e7c8a.js.map