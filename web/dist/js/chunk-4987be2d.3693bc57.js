(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4987be2d"],{"00ab":function(t,e,a){"use strict";var i=a("2b0e");e["a"]=i["a"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}})},aa77:function(t,e,a){var i=a("5ca1"),s=a("be13"),o=a("79e5"),r=a("fdef"),n="["+r+"]",d="​",u=RegExp("^"+n+n+"*"),l=RegExp(n+n+"*$"),c=function(t,e,a){var s={},n=o(function(){return!!r[t]()||d[t]()!=d}),u=s[t]=n?e(p):r[t];a&&(s[a]=u),i(i.P+i.F*n,"String",s)},p=c.trim=function(t,e){return t=String(s(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=c},c5f6:function(t,e,a){"use strict";var i=a("7726"),s=a("69a8"),o=a("2d95"),r=a("5dbc"),n=a("6a99"),d=a("79e5"),u=a("9093").f,l=a("11e9").f,c=a("86cc").f,p=a("aa77").trim,h="Number",m=i[h],g=m,f=m.prototype,b=o(a("2aeb")(f))==h,v="trim"in String.prototype,y=function(t){var e=n(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():p(e,3);var a,i,s,o=e.charCodeAt(0);if(43===o||45===o){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,s=49;break;case 79:case 111:i=8,s=55;break;default:return+e}for(var r,d=e.slice(2),u=0,l=d.length;u<l;u++)if(r=d.charCodeAt(u),r<48||r>s)return NaN;return parseInt(d,i)}}return+e};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof m&&(b?d(function(){f.valueOf.call(a)}):o(a)!=h)?r(new g(y(e)),a,m):y(e)};for(var D,x=a("9e1e")?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),$=0;x.length>$;$++)s(g,D=x[$])&&!s(m,D)&&c(m,D,l(g,D));m.prototype=f,f.constructor=m,a("2aba")(i,h,m)}},cac2:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""},model:{value:t.editType,callback:function(e){t.editType=e},expression:"editType"}},[a("v-flex",{model:{value:t.editGroupId,callback:function(e){t.editGroupId=e},expression:"editGroupId"}},[a("v-card",{model:{value:t.editGroupInfo,callback:function(e){t.editGroupInfo=e},expression:"editGroupInfo"}},[a("v-card-title",{staticClass:"primary darken-2",model:{value:t.editHostId,callback:function(e){t.editHostId=e},expression:"editHostId"}},[a("span",{staticClass:"ml-2",staticStyle:{"font-size":"1.5rem",color:"white"}},[t._v(t._s(t.editName))]),a("v-spacer"),a("div",{staticClass:"text-xs-center"},[0===t.editType?a("v-badge",{attrs:{overlap:"",right:"",color:"red"},scopedSlots:t._u([t.groupData.waits.length>0?{key:"badge",fn:function(){return[a("span",[t._v(t._s(t.groupData.waits.length))])]},proxy:!0}:null],null,!0)},[0===t.editType?a("ApplyDialog",{attrs:{groupId:t.groupId,waits:t.groupData.waits}}):t._e()],1):t._e()],1),a("div",[a("Dialog",{attrs:{type:t.editType,showDialog:t.showDialog},on:{updateDialog:t.updateDialog,updateJoin:t.updateJoin,updateQuit:t.updateQuit}}),0===t.editType?a("v-btn",{attrs:{round:"",color:"primary lighten-1"},on:{click:function(e){t.showDialog=!t.showDialog}}},[t._v("結束揪團")]):t._e(),0===t.editType?a("EditDialog",{attrs:{editDialog:t.editDialog},on:{updateSubmit:t.updateSubmit,updateIsEditable:t.updateIsEditable}}):t._e(),1===t.editType?a("v-btn",{attrs:{round:"",color:"primary lighten-1"},on:{click:function(e){t.showDialog=!t.showDialog}}},[t._v("離開此團")]):t._e(),2===t.editType?a("v-btn",{attrs:{round:"",color:"primary lighten-1"},on:{click:function(e){t.showDialog=!t.showDialog}}},[t._v("取消等待")]):t._e()],1),3===t.editType?a("v-btn",{attrs:{round:"",color:"primary lighten-1"},on:{click:function(e){t.showDialog=!t.showDialog}}},[t._v("加入揪團")]):t._e()],1),a("div"),a("v-container",{staticClass:"scroll-y",staticStyle:{"max-height":"435px"},attrs:{"grid-list-xs":"",id:"scroll-target"}},[a("v-flex",{attrs:{xs12:""}},[t.isEditable?a("v-text-field",{attrs:{readonly:!t.isEditable,color:"primary",label:"團名",required:""},model:{value:t.editName,callback:function(e){t.editName=e},expression:"editName"}}):t._e()],1),a("v-layout",{attrs:{wrap:""}},[t.isEditable?a("v-flex",{attrs:{xs12:""}},[a("DatePicker",{attrs:{isEditable:t.isEditable,myDate:t.groupData.date},on:{updateDate:t.updateDate}})],1):t._e(),t.isEditable?t._e():a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"揪團日期","prepend-icon":"event",readonly:""},model:{value:t.groupData.date,callback:function(e){t.$set(t.groupData,"date",e)},expression:"groupData.date"}})],1),a("v-flex",{attrs:{xs12:""}},[t.isEditable&&""!=t.groupData.storeName?t._e():a("v-text-field",{attrs:{readonly:"","prepend-inner-icon":"",color:"primary",label:"桌遊店"},model:{value:t.groupData.storeName,callback:function(e){t.$set(t.groupData,"storeName",e)},expression:"groupData.storeName"}})],1),t.isEditable?a("AddSelect",{staticClass:"mb-3",attrs:{isEditable:t.isEditable,myCity:t.groupData.city,myDist:t.groupData.dist,myStore:t.groupData.storeName},on:{updateCity:t.updateCity,updateDist:t.updateDist,updateStoreName:t.updateStoreName,updateStoreAddress:t.updateStoreAddress}}):t._e(),a("v-flex",{attrs:{xs12:""}},[t.isEditable?t._e():a("v-text-field",{attrs:{readonly:!t.isEditable,color:"primary",label:"地址",required:""},model:{value:t.groupData.city+"  "+t.groupData.dist+"  "+t.groupData.address,callback:function(e){t.$set(t.groupData.city+"  "+t.groupData.dist+"  "+t.groupData,"address",e)},expression:"groupData.city +'  ' + groupData.dist + '  ' +groupData.address"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[t.isEditable?a("v-text-field",{attrs:{readonly:!t.isEditable,color:"primary",label:"地址",required:""},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}}):t._e()],1),a("v-flex",{attrs:{xs12:""}},[t.isEditable?a("TimePicker",{attrs:{isEditable:t.isEditable,myStart:t.groupData.start,myEnd:t.groupData.end},on:{updateStartTime:t.updateStartTime,updateEndTime:t.updateEndTime}}):t._e()],1),a("v-flex",{attrs:{xs12:"",sm6:"",md2:""}},[t.isEditable?t._e():a("v-text-field",{attrs:{readonly:!t.isEditable,color:"primary",label:"開始時間",required:""},model:{value:t.groupData.start,callback:function(e){t.$set(t.groupData,"start",e)},expression:"groupData.start"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md2:""}},[t.isEditable?t._e():a("v-text-field",{attrs:{readonly:!t.isEditable,color:"primary",label:"結束時間",required:""},model:{value:t.groupData.end,callback:function(e){t.$set(t.groupData,"end",e)},expression:"groupData.end"}})],1),a("v-spacer"),t.editMin==t.groupData.now?a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-subheader",{staticClass:"pl-0"},[t._v("內建人數")]),a("v-slider",{attrs:{readonly:!t.isEditable,"thumb-label":"always","thumb-size":24,max:10,color:"primary"},model:{value:t.editMin,callback:function(e){t.editMin=e},expression:"editMin"}})],1):a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-subheader",{staticClass:"pl-0"},[t._v("現在人數")]),a("v-slider",{attrs:{readonly:!t.isEditable,"thumb-label":"always","thumb-size":24,max:10,color:"primary"},model:{value:t.groupData.now,callback:function(e){t.$set(t.groupData,"now",e)},expression:"groupData.now"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md3:"","offset-md1":""}},[a("v-subheader",{staticClass:"pl-0"},[t._v("上限人數")]),a("v-slider",{attrs:{readonly:!t.isEditable,"thumb-label":"always","thumb-size":24,max:20,color:"primary"},model:{value:t.editMax,callback:function(e){t.editMax=e},expression:"editMax"}})],1),a("v-flex",{attrs:{xs12:""}},[[a("v-radio-group",{attrs:{readonly:!t.isEditable,row:"",required:""},model:{value:t.editNovice,callback:function(e){t.editNovice=e},expression:"editNovice"}},[a("span",{staticClass:"mr-5"},[t._v("新手友善")]),a("div",[a("v-radio",{attrs:{color:"primary",label:"歡迎新手同遊",value:!0}}),a("v-radio",{attrs:{color:"primary",label:"希望有經驗玩家",value:!1}})],1)])]],2),a("v-flex",{attrs:{xs12:""}},[a("InputGameTag",{attrs:{isEditable:t.isEditable,myGame:t.groupData.game},on:{updateGame:t.updateGame}})],1),a("v-flex",{attrs:{xs12:""}},[[a("v-radio-group",{attrs:{readonly:!t.isEditable,row:"",required:""},model:{value:t.editApply,callback:function(e){t.editApply=e},expression:"editApply"}},[a("span",{staticClass:"mr-5"},[t._v("是否限制申請")]),a("div",[a("v-radio",{attrs:{color:"primary",label:"允許自由加入",value:!1}}),a("v-radio",{attrs:{color:"primary",label:"需要審核加入",value:!0}})],1)])]],2),a("v-flex",{attrs:{"mt-4":"",xs12:""}},[a("v-textarea",{attrs:{readonly:!t.isEditable,color:"primary",outline:"",name:"memo",label:"團內規定(備註)",height:"100%"},model:{value:t.editMemo,callback:function(e){t.editMemo=e},expression:"editMemo"}})],1),a("v-layout",{attrs:{row:"","justify-center":""}})],1)],1),a("v-card-actions",[a("v-spacer")],1)],1)],1)],1)},s=[],o=(a("7f7f"),a("c5f6"),a("7c15")),r=(a("4be7"),{props:{groupData:{type:Object,required:!0},hostId:{type:String,required:!0},myType:{type:Number,required:!0}},inject:["reload"],components:{DatePicker:function(){return Promise.all([a.e("chunk-66b51084"),a.e("chunk-19d57df6"),a.e("chunk-27a9d84f")]).then(a.bind(null,"5669"))},InputGameTag:function(){return Promise.all([a.e("chunk-66b51084"),a.e("chunk-87481c62"),a.e("chunk-d80c89ca")]).then(a.bind(null,"c7ae"))},TimePicker:function(){return Promise.all([a.e("chunk-66b51084"),a.e("chunk-14db058a")]).then(a.bind(null,"e01e"))},AddSelect:function(){return Promise.all([a.e("chunk-66b51084"),a.e("chunk-87481c62"),a.e("chunk-2ed01693")]).then(a.bind(null,"5edd"))},ApplyDialog:function(){return Promise.all([a.e("chunk-89b46a98"),a.e("chunk-6c27a638")]).then(a.bind(null,"018d"))},EditDialog:function(){return Promise.all([a.e("chunk-89b46a98"),a.e("chunk-2d0b324a")]).then(a.bind(null,"26b2"))},Dialog:function(){return Promise.all([a.e("chunk-89b46a98"),a.e("chunk-2d0ced3f")]).then(a.bind(null,"60b1"))}},data:function(){return{isHost:!1,isEditable:!1,showDialog:!1,editDialog:!1,submit:!1,join:!1,quit:!1,type:null,name:"",date:"",city:"",dist:"",address:"",storeName:"",start:"",end:"",min:5,max:10,game:[],novice:"true",apply:"true",memo:"",groupInfo:{},groupHostId:"",groupId:""}},mounted:function(){var t=this.myType;this.type=t},methods:{updateDate:function(t){this.$data.date=t},updateStartTime:function(t){console.log(t),this.$data.start=t},updateEndTime:function(t){console.log(t),this.$data.end=t},updateCity:function(t){this.$data.city=t},updateDist:function(t){this.$data.dist=t},updateStoreName:function(t){this.$data.storeName=t},updateStoreAddress:function(t){this.$data.address=t},updateGame:function(t){this.$data.game=t},updateDialog:function(t){this.$data.showDialog=t},updateEditDialog:function(t){this.$data.editDialog=t},updateIsEditable:function(t){this.$data.isEditable=t},updateSubmit:function(t){this.$data.submit=t},updateJoin:function(t){this.$data.join=t},updateQuit:function(t){this.$data.quit=t},joinGroup:function(){var t=this,e=this.getCookie("session");if(!e)return console.log("沒有token"),this.$bus.$emit("message:push","請登入","error"),void this.$router.push("/");this.join=!1,Object(o["j"])(this.groupId,{headers:{"x-access-token":e}}).then(function(e){if(400===e.data.status)return t.$data.errMsg=e.data.msg,console.log(t.$data.errMsg),"Account no Verified"==t.$data.errMsg?void t.$bus.$emit("message:push","帳號還沒驗證哦","error"):void t.$bus.$emit("message:push",t.$data.errMsg,"error");console.log("加入成功如下",e.data),t.$bus.$emit("message:push","🎉加入成功🎉"),t.reload()}).catch(function(e){console.log(e),t.$bus.$emit("message:push",e,"error")})},quitGroup:function(){var t=this,e=this.getCookie("session");if(!e)return console.log("沒有token"),this.$bus.$emit("message:push","請登入","error"),void this.$router.push("/");this.quit=!1,console.log("退出token",e),console.log("退出id",this.groupId),Object(o["k"])(this.groupId,{headers:{"x-access-token":e}}).then(function(e){if(400===e.data.status)return t.$data.errMsg=e.data.msg,console.log(t.$data.errMsg),"Account no Verified"==t.$data.errMsg?void t.$bus.$emit("message:push","帳號還沒驗證哦","error"):void t.$bus.$emit("message:push",t.$data.errMsg,"error");console.log("退出成功如下",e.data),t.$bus.$emit("message:push","😭已經退出"),t.$data.isHost?t.$router.push("/"):t.reload()}).catch(function(e){console.log(e),t.$bus.$emit("message:push",e,"error")})},editGroup:function(){var t=this;this.$validator.validateAll();var e=this.getCookie("session");if(!e)return console.log("沒有token"),this.$bus.$emit("message:push","請登入","error"),void this.$router.push("/");this.submit=!1,Object(o["o"])({name:this.$data.name,date:this.$data.date,city:this.$data.city,dist:this.$data.dist,address:this.$data.address,storeName:this.$data.storeName,start:this.$data.start,end:this.$data.end,min:parseInt(this.$data.min),max:parseInt(this.$data.max),game:this.$data.game,novice:this.$data.novice,apply:this.$data.apply,other:this.$data.memo,groupId:this.$data.groupId},{headers:{"x-access-token":e}}).then(function(e){if(400===e.data.status)return t.$data.errMsg=e.data.msg,console.log(t.$data.errMsg),"Bad Request"==t.$data.errMsg?void t.$bus.$emit("message:push","沒有正確填入資訊","error"):void t.$bus.$emit("message:push",t.$data.errMsg,"error");console.log("更改資料成功如下",e.data),t.$bus.$emit("message:push","👏修改成功"),t.reload()}).catch(function(e){console.log(e),t.$bus.$emit("message:push",e,"error")})}},computed:{editGroupInfo:{get:function(){return this.groupInfo=this.groupData,this.groupData},set:function(t){this.groupInfo=t}},editHostId:{get:function(){return this.groupHostId=this.groupData.host.memberId,this.groupData.host.memberId},set:function(t){this.groupHostId=t}},editGroupId:{get:function(){return this.groupId=this.groupData._id,this.groupData._Id},set:function(t){this.groupId=t}},editType:{get:function(){return this.type=this.myType,this.myType},set:function(t){this.type=t}},editName:{get:function(){return this.name=this.groupData.name,this.groupData.name},set:function(t){this.name=t}},editAddress:{get:function(){return this.address=this.groupData.address,this.groupData.address},set:function(t){this.address=t}},editMin:{get:function(){return this.min=this.groupData.min,this.groupData.min},set:function(t){this.min=t}},editMax:{get:function(){return this.max=this.groupData.max,this.groupData.max},set:function(t){this.max=t}},editNovice:{get:function(){return this.novice=this.groupData.novice,this.groupData.novice},set:function(t){this.novice=t}},editApply:{get:function(){return this.apply=this.groupData.apply,this.groupData.apply},set:function(t){this.apply=t}},editMemo:{get:function(){return this.memo=this.groupData.other,this.groupData.other},set:function(t){this.memo=t}}},watch:{groupHostId:function(t){console.log(1,this.$store.state.memberId),console.log(3,this.groupHostId);var e=this.$store.state.memberId;e==this.groupHostId&&(console.log(4,e),this.$data.isHost=!0)},type:function(t){console.log("my type is"+t)},submit:function(t){console.log("修改",this.submit),this.submit&&this.editGroup()},join:function(t){console.log("加入",this.join),this.join&&this.joinGroup()},quit:function(t){console.log("退出",this.quit),this.quit&&this.quitGroup()}}}),n=r,d=a("2877"),u=a("6544"),l=a.n(u),c=(a("d4c0a"),a("b64a")),p=a("98a1"),h=a("c22b"),m=a("00ab"),g=a("58df"),f=Object(g["a"])(c["a"],p["a"],Object(h["b"])(["left","bottom"]),m["a"]).extend({name:"v-badge",props:{color:{type:String,default:"primary"},overlap:Boolean,transition:{type:String,default:"fab-transition"},value:{default:!0}},computed:{classes:function(){return{"v-badge--bottom":this.bottom,"v-badge--left":this.left,"v-badge--overlap":this.overlap}}},render:function(t){var e=this.$slots.badge&&[t("span",this.setBackgroundColor(this.color,{staticClass:"v-badge__badge",attrs:this.$attrs,directives:[{name:"show",value:this.isActive}]}),this.$slots.badge)];return t("span",{staticClass:"v-badge",class:this.classes},[this.$slots.default,t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},e)])}}),b=a("8336"),v=a("b0af"),y=a("99d9"),D=a("12b2"),x=a("a523"),$=a("0e8f"),I=a("a722"),k=a("67b6"),E=a("43a6"),_=a("ba0d"),N=a("9910"),w=a("e0c7"),S=a("2677"),T=a("a844"),M=Object(d["a"])(n,i,s,!1,null,null,null);e["default"]=M.exports;l()(M,{VBadge:f,VBtn:b["a"],VCard:v["a"],VCardActions:y["a"],VCardTitle:D["a"],VContainer:x["a"],VFlex:$["a"],VLayout:I["a"],VRadio:k["a"],VRadioGroup:E["a"],VSlider:_["a"],VSpacer:N["a"],VSubheader:w["a"],VTextField:S["a"],VTextarea:T["a"]})},d4c0a:function(t,e,a){},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-4987be2d.3693bc57.js.map